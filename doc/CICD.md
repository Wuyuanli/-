# CI/CD
CI/CD是**持续集成（Continuous Integration）** 和 **持续交付（Continuous Delivery）** 的缩写，它旨在通过自动化的流程和工具，提高软件开发的效率、质量和交付速度。
## 持续集成（CI）
### 概念
持续集成是开发团队通过将代码的不同部分集成到共享存储库中，并频繁地进行构建和测试，以确保代码的一致性和稳定性。

### 流程
在现在的开发模式中，一般的项目，协同开发是离不开的，这就涉及到多个开发人员编写处理自己负责的功能模块或者某些开发人员共同负责一个模块。于是，通过**版本控制系统**可以将各个开发人员的代码集成在该共享存储库里，在存储库里，每个开发人员根据需求的不同来创建对应的分支，在完成需求后，每个人都需要提交合并将开发分支代码集成在一起，这就需要解决代码冲突，并且如何除了code review之外如何确保这些更改对应用没有产生影响，一旦提交请求合并到主分支，**自动化构建工具**就会根据流程自动编译构建安装应用，并执行单元测试框架的自动化测试来校验提交的修改。

### 关键组件
以下是一些用于构建有效CI流程的关键组件：

- 版本控制系统（Version Control System，VCS）：
	- 例如Git，用于跟踪代码变更，协作开发，并确保团队成员之间的代码同步。
- 自动化构建工具：
	- 如Jenkins、Travis CI、CircleCI等，用于在每次代码提交时自动触发构建过程。
- 单元测试框架：
	- 例如JUnit（Java）、pytest（Python），用于确保代码的基本功能在集成后仍然有效。

### 作用
- 减少集成问题： 在传统的开发模式中，团队成员可能在各自的开发分支上独立工作，而在合并时可能会产生冲突和集成问题。CI通过持续集成代码，及时发现和解决这些问题，避免了集成地狱。
- 提高代码质量： CI 强调自动化测试，包括单元测试、集成测试等。每次代码变更都会触发这些测试，确保新代码不会破坏现有功能，并减少引入 bug 的可能性。这有助于提高整体代码质量。
- 快速反馈： CI 通过快速执行自动化构建和测试，提供了即时反馈。开发人员可以在提交代码后迅速得知其是否通过了构建和测试，帮助他们更快速地发现和修复问题。
- 提高开发效率： 通过自动化构建、测试和部署，CI减少了手动操作的需求，提高了开发效率。开发人员可以专注于编写代码而不必花费过多时间在手动构建和测试上。
- 自动化部署： 与持续交付（Continuous Delivery）和持续部署（Continuous Deployment）结合，CI 可以实现自动化部署。这意味着经过测试的代码变更可以自动部署到预定环境，实现快速且可靠的交付流程。
- 团队协作： CI 鼓励团队成员频繁集成代码，确保大家的工作在一个共享的代码库中协同进行。这促进了团队之间的协作和沟通，减少了因代码集成问题而导致的沟通障碍。
- 降低风险： 通过频繁集成和自动测试，CI 减少了发布到生产环境时出现问题的可能性。提前发现和解决问题有助于降低风险，确保稳定的软件交付。

## 持续交付（CD）
### 概念
持续交付建立在持续集成的基础上，通过自动化的流程确保软件可以随时随地进行部署。
### 流程
这时，持续交付后的代码已经在主分支上了，这处于某个版本的待发布的状态，随时可以将开发环境的功能部署到生产环境中（部署到生成环境前还需要在测试环境性能测试、回归测试、自动化测试、人工测试等），运行脚本**构建打包应用**，通过**自动化部署工具**部署到生产环境运行应用，监控生产环境指标，如出现问题和错误，可以触发手动或自动**回滚**，如系统正常，则定期回顾，收集反馈，优化，并**持续改进**。
### 关键组件
以下是一些用于实现持续交付的关键组件：

- 自动化部署工具：
	- 例如Docker、Ansible、Kubernetes等，用于自动化地部署应用程序和其依赖。
- 环境配置管理：
	- 工具如Terraform，确保不同环境（开发、测试、生产）的一致性。
- 持续监控和反馈：
	- 使用工具如Prometheus、Grafana，确保在部署后能够监控应用程序的性能和稳定性。
### 作用
- 快速交付： 持续交付强调频繁、快速地将新的代码变更交付到生产环境。这使得团队能够更加迅速地响应用户需求，推出新功能或修复 bug。
- 稳定交付： 通过自动化测试、自动化部署和验证流程，持续交付确保每次交付都是经过充分验证的，降低了引入错误的风险，提高了软件的稳定性。
- 降低发布成本： 持续交付通过自动化流程降低了发布的人工成本。这意味着开发团队不再需要手动执行繁琐的部署步骤，减少了错误的可能性，提高了整体效率。
- 支持持续改进： 持续交付是一个循环过程，通过不断收集用户反馈、监控系统性能和流程改进，团队能够不断优化持续交付流程，提高整体效率和质量。